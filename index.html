<!DOCTYPE html>
<html>
<head>
  <title>Mini Map Lookup</title>
<style>
  body {
    font-family: Helvetica, sans-serif;
    text-align: center;
    margin-top: 50px;
    font-size:36px; /* bigger default font */
  }
  h1 {
    font-size: 48px; /* bigger heading */
  }
  p {
    font-size: 36px; /* bigger paragraph */
  }
  input {
    padding: 12px;
    font-size: 36px;  /* bigger input text */
    width: 200px;     /* wider input box */
  }
  button {
    padding: 12px 24px;
    font-size: 36px;  /* bigger button text */
  }
  img {
    margin-top: 20px;
    max-width: 80%;
    border: 1px solid #ccc;
  }
</style>

</head>
<body>
  <h1>Mini Map Lookup Tool</h1>
  <p>Enter Icon/Task Number:</p>
  <input type="text" id="iconInput" placeholder="e.g., 1" />
  <button onclick="lookupMap()">Show Mini Map</button>
  <div id="result"></div>

  <script>
    // Function to get URL parameter by name
    function getQueryParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Read the folder name from URL param "site"
    const folderName = getQueryParam("site");

    function lookupMap() {
      const iconNumber = document.getElementById("iconInput").value.trim();
      if (iconNumber === "") {
        alert("Please enter an icon/task number");
        return;
      }
      if (!folderName) {
        alert("Site folder not specified in URL.");
        return;
      }
      // Construct the path using the folder from URL param and simple icon filename
      const imageUrl = `${folderName}/${iconNumber}.png`;

      // Update the image display
      document.getElementById("result").innerHTML = `<img src="${imageUrl}" alt="Mini Map for Icon ${iconNumber}" onerror="this.onerror=null;this.src='';alert('Mini map not found for icon ' + iconNumber)"/>`;
    }
  </script>
</body>
</html>
